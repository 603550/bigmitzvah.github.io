<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>BigMitzvah.org Rental Return</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Libre+Franklin:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    body {
      background-color: #a7c5c0;
      font-family: 'Libre Franklin', Arial, sans-serif;
      color: #333;
    }
    .logo {
      display: block;
      margin: 10px auto;
      max-width: 300px;
      cursor: pointer;
    }
    .btn-custom {
      background-color: #2c7a7b;
      color: white;
      font-size: 1.1em;
      border: none;
      border-radius: 8px;
      padding: 12px;
      margin-top: 10px;
      width: 100%;
    }
    .btn-custom:hover {
      background-color: #4DB6AC;
      color: white;
    }
    .card {
      border-radius: 12px;
    }
    .card-main {
      max-width: 400px;
      margin: 0 auto;
      margin-top: 20px;
    }
    .card-body p {
      font-size: 0.95em;
      line-height: 1.5;
      margin-bottom: 6px;
    }
    hr {
      margin: 10px 0;
      border: 0;
      border-top: 1px solid #ccc;
    }
  </style>
</head>
<body>

<div class="container py-4">
  <!-- Logo -->
  <img src="logo.png" alt="BigMitzvah Logo" class="logo" id="homeLogo">

  <!-- Step 1: Active Rental -->
  <div id="activeRentalSection" class="card shadow-sm card-main">
    <div class="card-body text-start">
      <h5 class="fw-bold">‚ö†Ô∏è Active Rental in Progress</h5>
      <hr>
      <p><strong>Driver:</strong> David Kakon</p>
      <p><strong>Phone:</strong> (514) 574-0233</p>
      <p><strong>Rental Start:</strong> July 29, 2025 at 12:22 PM (1 day ago)</p>
      <p><strong>Starting KM:</strong> 57,770 KM</p>
      <p><strong>Rental ID:</strong> 250729-BMD001-57770</p>
      <button id="completeRentalBtn" class="btn-custom">Complete Rental</button>
      <button id="cancelRentalBtn" class="btn-custom" style="background-color:#888;">Cancel</button>
    </div>
  </div>

  <!-- Step 2: Enter Ending KM -->
  <div id="endingKMSection" class="card shadow-sm card-main" style="display:none;">
    <div class="card-body text-center">
      <h5>Enter Ending KM</h5>
      <input type="tel" id="endKM" class="form-control my-3" placeholder="Enter KM" inputmode="numeric">
      <button id="endKMConfirmBtn" class="btn-custom">Confirm KM</button>
    </div>
  </div>

  <!-- Step 3: Confirm Ending KM -->
  <div id="endKMConfirmSection" class="card shadow-sm card-main" style="display:none;">
    <div class="card-body text-center">
      <h5 id="endKMConfirmText"></h5>
      <p>Is this correct?</p>
      <button id="endKMYesBtn" class="btn-custom">Yes</button>
      <button id="endKMNoBtn" class="btn-custom" style="background-color:#888;">No</button>
    </div>
  </div>

  <!-- Step 4: Show Charges -->
  <div id="chargesSection" class="card shadow-sm card-main" style="display:none;">
    <div class="card-body text-start">
      <h5><b>‚úÖ Your rental has now ended</b></h5>
      <hr>
      <p><strong>Rental ID:</strong> 250729-BMD001-57770</p>
      <p><strong>Rental Start:</strong> July 29, 2025, 12:22 PM</p>
      <p><strong>Rental End:</strong> July 31, 2025, 12:23 PM</p>
      <p><strong>Total Days:</strong> 3 days</p>
      <p><strong>Starting KM:</strong> 57,770 KM</p>
      <p><strong>Ending KM:</strong> <span id="displayEndKM"></span> KM</p>
      <p><strong>Total KM Driven:</strong> 100 KM</p>
      <hr>
      <p>Rental Charge: 3 days √ó $18.00 ‚Ä¶ <b>$54.00</b></p>
      <p>Gas Charge: 100 KM √ó $0.10 ‚Ä¶ <b>$10.00</b></p>
      <hr>
      <p><b>Total Charge: $64.00</b> (Card ending 4242)</p>
      <button id="chargeCardBtn" class="btn-custom">Charge Card Now</button>
      <button id="modifyAmountBtn" class="btn-custom" style="background-color:#888;">Modify Amount</button>
      <button id="cancelChargeBtn" class="btn-custom" style="background-color:#aaa;">Cancel</button>
    </div>
  </div>

  <!-- Step 5: Receipt -->
  <div id="receiptSection" class="card shadow-sm card-main" style="display:none;">
    <div class="card-body text-start">
      <h5><b>‚úÖ Payment Successful</b></h5>
      <hr>
      <p><strong>Receipt for Rental ID:</strong> 250729-BMD001-57770</p>
      <p>Charged to card ending in 4242</p>
      <p>Amount: $64.00</p>
      <p>Date: July 31, 2025, 12:24 PM</p>
      <p>‚ù§Ô∏è Thank you for using BigMitzvah!</p>
      <button id="homeBtn" class="btn-custom mt-3">Homepage</button>
    </div>
  </div>
</div>

<script>
  let enteredEndKM = null;

  document.getElementById('homeLogo').addEventListener('click', () => location.href = "index.html");

  document.getElementById('completeRentalBtn').addEventListener('click', () => {
    document.getElementById('activeRentalSection').style.display = "none";
    document.getElementById('endingKMSection').style.display = "block";
  });

  document.getElementById('endKMConfirmBtn').addEventListener('click', () => {
    enteredEndKM = document.getElementById('endKM').value;
    if (enteredEndKM) {
      const formattedKM = parseInt(enteredEndKM).toLocaleString();
      document.getElementById('endingKMSection').style.display = "none";
      document.getElementById('endKMConfirmSection').style.display = "block";
      document.getElementById('endKMConfirmText').textContent = `You entered ${formattedKM} KM`;
    }
  });

  document.getElementById('endKMYesBtn').addEventListener('click', () => {
    document.getElementById('endKMConfirmSection').style.display = "none";
    document.getElementById('chargesSection').style.display = "block";
    document.getElementById('displayEndKM').textContent = parseInt(enteredEndKM).toLocaleString();
  });

  document.getElementById('endKMNoBtn').addEventListener('click', () => {
    document.getElementById('endKMConfirmSection').style.display = "none";
    document.getElementById('endingKMSection').style.display = "block";
  });

  document.getElementById('chargeCardBtn').addEventListener('click', () => {
    document.getElementById('chargesSection').style.display = "none";
    document.getElementById('receiptSection').style.display = "block";
  });

  document.getElementById('modifyAmountBtn').addEventListener('click', () => {
    alert("üöß Modify Amount coming soon!");
  });

  document.getElementById('cancelRentalBtn').addEventListener('click', () => location.href = "index.html");
  document.getElementById('cancelChargeBtn').addEventListener('click', () => location.href = "index.html");
  document.getElementById('homeBtn').addEventListener('click', () => location.href = "index.html");
</script>

</body>
</html>
